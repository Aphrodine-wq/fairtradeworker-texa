import { Card } from '@/components/ui/card'
import { calculateCompetitorFees, COMPETITOR_NAMES } from '@/lib/competitiveAdvantage'
import { CurrencyDollar, TrendUp } from '@phosphor-icons/react' interface FeeComparisonProps { amount: number variant?: 'compact' | 'detailed' showYearly?: boolean
} export function FeeComparison({ amount, variant = 'compact', showYearly = false }: FeeComparisonProps) { const fees = calculateCompetitorFees(amount) const maxFee = Math.max(fees.thumbtack, fees.homeadvisor, fees.angi) if (variant === 'compact') { return ( <div className="flex items-center gap-2 px-3 py-2 bg-primary/10 rounded-lg border border-primary/20"> <CurrencyDollar className="text-primary" weight="bold" /> <div className="flex-1"> <p className="text-sm font-semibold text-black dark:text-white"> You earned ${amount.toFixed(2)}. You kept ${amount.toFixed(2)}. </p> <p className="text-xs text-black dark:text-white"> On {COMPETITOR_NAMES.homeadvisor}, you'd have kept ${(amount - maxFee).toFixed(2)} </p> </div> <div className="text-right"> <p className="text-lg font-bold text-primary">+${maxFee.toFixed(0)}</p> <p className="text-xs text-black dark:text-white">saved</p> </div> </div> ) } return ( <Card className="p-6"> <div className="flex items-center gap-3 mb-4"> <div className="p-3 bg-primary/10 rounded-full"> <CurrencyDollar className="text-primary" size={24} weight="bold" /> </div> <div> <h3 className="text-lg font-semibold">Fee Comparison</h3> <p className="text-sm text-black dark:text-white">See what you're saving</p> </div> </div> <div className="space-y-4"> <div className="p-4 bg-primary/5 rounded-lg border-2 border-primary"> <div className="flex justify-between items-center mb-1"> <span className="font-semibold">FairTradeWorker</span> <span className="text-2xl font-bold text-primary">${amount.toFixed(2)}</span> </div> <p className="text-sm text-black dark:text-white">0% platform fee â€¢ Keep 100%</p> </div> <div className="space-y-2"> {Object.entries(fees).map(([platform, fee]) => ( <div key={platform} className="p-3 bg-muted/30 rounded-lg"> <div className="flex justify-between items-center mb-1"> <span className="text-sm">{COMPETITOR_NAMES[platform as keyof typeof COMPETITOR_NAMES]}</span> <span className="text-lg font-semibold text-black dark:text-white"> ${(amount - fee).toFixed(2)} </span> </div> <p className="text-xs text-destructive">-${fee.toFixed(2)} platform fee</p> </div> ))} </div> <div className="pt-4 border-t"> <div className="flex items-center justify-between"> <div className="flex items-center gap-2"> <TrendUp className="text-primary" weight="bold" /> <span className="text-sm font-medium">Your Advantage</span> </div> <span className="text-2xl font-bold text-primary"> +${fees.thumbtack.toFixed(0)} to +${maxFee.toFixed(0)} </span> </div> </div> {showYearly && ( <div className="p-4 bg-accent/10 rounded-lg mt-4"> <p className="text-sm font-semibold mb-1">Projected Annual Savings</p> <p className="text-xs text-black dark:text-white mb-2"> Based on average contractor volume </p> <p className="text-3xl font-bold text-primary"> ${(maxFee * 50).toLocaleString()} </p> <p className="text-xs text-black dark:text-white mt-1"> That's a work truck, family vacation, or your kids' braces </p> </div> )} </div> </Card> )
}
